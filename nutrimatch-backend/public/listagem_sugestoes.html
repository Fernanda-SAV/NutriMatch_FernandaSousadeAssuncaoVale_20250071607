<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NutriMatch — Sugestões de Substituição</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="login-header">
    <div class="container">
      <nav>
        <a class="brand" href="dashboard_paciente.html">
          <img src="images/logo.png" alt="Logo NutriMatch">
          <strong>NutriMatch</strong>
        </a>
        <div class="nav-links">
          <a href="dashboard_paciente.html">Plano</a>
          <a href="listagem_sugestoes.html">Sugestões</a>
          <a href="detalhe_receita.html">Receita</a>
          <!-- Sair via rota de logout -->
          <a href="/logout">Sair</a>
        </div>
      </nav>
    </div>
  </header>

  <main>
  <div class="container">

    <div class="top-actions">
      <button
        type="button"
        class="btn outline btn-back"
        onclick="window.history.back()"
      >
        ← Voltar
      </button>
    </div>

      <!-- CABEÇALHO DA PÁGINA -->
      <section class="card">
        <h2>Substituir refeição</h2>
        <p class="small">
          Aqui você pode substituir uma refeição do seu plano por outra opção com calorias semelhantes.
          Você pode escolher uma receita já cadastrada no banco de dados ou gerar uma nova receita com IA
          a partir dos ingredientes que tem em casa.
        </p>
      </section>

      <!-- FILTRO POR TIPO DE REFEIÇÃO -->
      <section class="card" style="margin-top:1rem;">
        <h3>Filtrar por tipo de refeição</h3>
        <form class="inline" onsubmit="return false">
          <select name="filtro_refeicao">
            <option value="">Selecione o tipo de refeição</option>
            <option value="cafe_manha">Café da manhã</option>
            <option value="lanche_manha">Lanche da manhã</option>
            <option value="almoco">Almoço</option>
            <option value="lanche_tarde">Lanche da tarde</option>
            <option value="jantar">Jantar</option>
            <option value="ceia">Ceia (opcional)</option>
          </select>
          <a class="btn" href="#sugestoes">Filtrar receitas</a>
        </form>
      </section>

      <!-- BLOCO “TENHO EM CASA” + IA -->
      <section class="card" style="margin-top:1rem;">
        <h3>Gerar receita com IA — Tenho em casa</h3>
        <p class="small">
          Informe os ingredientes que você tem em casa e o tipo de refeição que deseja. A IA irá sugerir
          receitas compatíveis com a meta calórica daquela refeição. Cada nova receita gerada será
          adicionada ao banco de dados para uso futuro.
        </p>

        <form class="inline" onsubmit="return false">
          <input name="ingredientes" placeholder="Ex: banana, ovo, aveia">

          <select name="refeicao_ia">
            <option value="">Selecione o tipo de refeição</option>
            <option value="cafe_manha">Café da manhã (meta 350 kcal)</option>
            <option value="lanche_manha">Lanche da manhã (meta 150 kcal)</option>
            <option value="almoco">Almoço (meta 600 kcal)</option>
            <option value="lanche_tarde">Lanche da tarde (meta 170 kcal)</option>
            <option value="jantar">Jantar (meta 500 kcal)</option>
            <option value="ceia">Ceia (meta 120 kcal)</option>
          </select>

          <!-- No futuro:
               - "Buscar no banco" chamaria o backend para filtrar receitas existentes.
               - "Gerar com IA" chamaria a IA para criar receitas novas e gravar no banco.
          -->
          <a class="btn" id="btn-buscar-banco" href="#sugestoes">Buscar no banco</a>
          <a class="btn outline" id="btn-gerar-ia" href="#geradas-ia">Gerar com IA</a>
        </form>
      </section>

      <!-- SUGESTÕES DO BANCO DE RECEITAS -->
      <section id="sugestoes" class="section-lista" style="margin-top:2rem;">
        <h3>Receitas sugeridas do banco de dados</h3>
        <p class="small">
          Estas são receitas já cadastradas pela nutricionista ou pelo sistema, compatíveis com a refeição selecionada
          e com a meta calórica definida no plano.
        </p>

        <div class="grid grid-3">
          <article class="card">
            <h4>Panqueca de banana</h4>
            <p class="small">
              <strong>Porção:</strong> 1 unidade<br>
              <strong>Ingredientes:</strong> Banana 60 g • Ovo 45 g • Aveia 15 g<br>
              <strong>Calorias:</strong> ~170 kcal
            </p>
            <div class="actions">
              <a class="btn" href="confirmacao.html">Usar esta</a>
              <a class="btn link" href="detalhe_receita.html">Detalhes</a>
            </div>
          </article>

          <article class="card">
            <h4>Mingau rápido de aveia</h4>
            <p class="small">
              <strong>Porção:</strong> 1 bowl pequeno<br>
              <strong>Ingredientes:</strong> Aveia 20 g • Leite 150 ml • Banana 40 g<br>
              <strong>Calorias:</strong> ~165 kcal
            </p>
            <div class="actions">
              <a class="btn" href="confirmacao.html">Usar esta</a>
              <a class="btn link" href="detalhe_receita.html">Detalhes</a>
            </div>
          </article>

          <article class="card">
            <h4>Omelete doce</h4>
            <p class="small">
              <strong>Porção:</strong> 1 omelete média<br>
              <strong>Ingredientes:</strong> Ovo 55 g • Banana 50 g<br>
              <strong>Calorias:</strong> ~172 kcal
            </p>
            <div class="actions">
              <a class="btn" href="confirmacao.html">Usar esta</a>
              <a class="btn link" href="detalhe_receita.html">Detalhes</a>
            </div>
          </article>
        </div>
      </section>

      <!-- RECEITAS GERADAS POR IA (CONCEITO) -->
      <section id="geradas-ia" class="section-lista" style="margin-top:2rem;">
        <h3>Receitas geradas por IA</h3>
        <p class="small">
          Exemplos de receitas que poderiam ser geradas automaticamente pela IA com base nos ingredientes informados.
          A cada nova receita aprovada pelo paciente, ela passa a ser armazenada também no banco de dados.
        </p>

        <div class="grid grid-3">
          <article class="card">
            <h4>Crepioca de banana (IA)</h4>
            <p class="small">
              <strong>Porção:</strong> 1 unidade<br>
              <strong>Ingredientes sugeridos:</strong> Ovo 50 g • Goma de tapioca 25 g • Banana 50 g<br>
              <strong>Calorias estimadas:</strong> ~180 kcal
            </p>
            <div class="actions">
              <a class="btn" href="confirmacao.html">Usar esta</a>
              <a class="btn link" href="detalhe_receita.html">Detalhes</a>
            </div>
          </article>

          <article class="card">
            <h4>Banana assada com aveia (IA)</h4>
            <p class="small">
              <strong>Porção:</strong> 1 ramequim<br>
              <strong>Ingredientes sugeridos:</strong> Banana 70 g • Aveia 15 g • Canela a gosto<br>
              <strong>Calorias estimadas:</strong> ~160 kcal
            </p>
            <div class="actions">
              <a class="btn" href="confirmacao.html">Usar esta</a>
              <a class="btn link" href="detalhe_receita.html">Detalhes</a>
            </div>
          </article>

          <article class="card">
            <h4>Ovo mexido com banana (IA)</h4>
            <p class="small">
              <strong>Porção:</strong> 1 prato pequeno<br>
              <strong>Ingredientes sugeridos:</strong> Ovo 45 g • Banana 40 g • Pitada de canela<br>
              <strong>Calorias estimadas:</strong> ~170 kcal
            </p>
            <div class="actions">
              <a class="btn" href="confirmacao.html">Usar esta</a>
              <a class="btn link" href="detalhe_receita.html">Detalhes</a>
            </div>
          </article>
        </div>
      </section>

    </div>
  </main>

  <footer class="footer">
    <div class="container">© 2025 NutriMatch • Flexibilidade real no plano alimentar.</div>
  </footer>
  <!-- Carrega script global com funções de IA e outras utilidades -->
  <script src="js/app.js"></script>
</body>
</html>
